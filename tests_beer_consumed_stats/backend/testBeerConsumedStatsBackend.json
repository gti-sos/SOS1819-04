{
	"info": {
		"_postman_id": "4a9f5ca4-b07a-4671-aee8-9f7ced637069",
		"name": "SOS1819-04-beer-consumed-stats",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "DELETE 200 ok",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0620be19-bd34-4a2a-ad6e-7c2fd4d15c04",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats"
					]
				},
				"description": "DELETE que devuelve 200 OK"
			},
			"response": []
		},
		{
			"name": "GET check no dat (JSON)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "fc9e313e-54c1-4eee-8f63-1b461e30e11d",
						"exec": [
							"pm.test(\"API doesn't have data\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.length === 0).to.be.true;",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "GET que devuelve una lista con todos los recursos. Se muestran en el navegador todos los recursos que contiene la Base de Datos en formato \"json\"."
			},
			"response": []
		},
		{
			"name": "GET loadInitialData",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "72e1deaa-a7bf-47a7-ba1c-2ec91eb45142",
						"exec": [
							"pm.test(\"Status code is 201\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/loadInitialData",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"loadInitialData"
					]
				},
				"description": "GET a la ruta loadInitialData que crea 5 recursos iniciales si la Base de datos no tiene creado ningún recurso.\n\nAl realizar esta operación, como se indica arriba, se crean 5 nuevos recursos iniciales predefinidos en caso de que la Base de Datos esté completamente vacía.\n\nSi la Base de Datos no está completamente vacía, se lanza el error \"409\" indicando \"Conflict\" por contener ya algún recurso la Base de Datos."
			},
			"response": []
		},
		{
			"name": "GET a todos los recursos (200)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "fc9e313e-54c1-4eee-8f63-1b461e30e11d",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "GET que devuelve una lista con todos los recursos. Se muestran en el navegador todos los recursos que contiene la Base de Datos en formato \"json\"."
			},
			"response": []
		},
		{
			"name": "GET con busqueda",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "71782530-2887-4b54-b070-2d977405dd20",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats?country=reino unido",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats"
					],
					"query": [
						{
							"key": "country",
							"value": "reino unido"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET con paginación",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "71782530-2887-4b54-b070-2d977405dd20",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats?limit=5&offset=3",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats"
					],
					"query": [
						{
							"key": "limit",
							"value": "5"
						},
						{
							"key": "offset",
							"value": "3"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST a los recursos",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b5551274-7721-4179-8cef-c89ef538cb80",
						"exec": [
							"pm.test(\"Status code is 201, created\", function () {",
							"    pm.response.to.have.status(201);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "    {\n    \t\"country\": \"estados unidos\",\n        \"year\": 2015,\n        \"rating\": 13,\n        \"variation\": 0.0,\n        \"countryConsumition\": 24266\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "POST para crear un nuevo recurso en la Base de Datos de acuerdo a los atributos correspondientes. Si dicho recurso ya existiera en la Base de Datos, se lanza el error \"409\" indicando \"Conflict\" al existir ya dicho recurso en la Base de Datos."
			},
			"response": []
		},
		{
			"name": "GET a un recurso concreto",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "50f1d20a-2ed7-4e45-8ab3-7d357c7925f3",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/estados unidos/2015",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"estados unidos",
						"2015"
					]
				},
				"description": "GET a un recurso en concreto, devolviendo a través del navegador sólo ese el cual se observa en la url con el parámetro \":country\".\n\nEn caso de que no existiera en la Base de Datos, se lanza el error \"404\" con el mensaje \"Not Found\" ya que no lo encuentra."
			},
			"response": []
		},
		{
			"name": "DELETE a un recurso",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "0d1c5919-0829-4738-957a-8c8eccf1bfbe",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/alemania/2016",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"alemania",
						"2016"
					]
				},
				"description": "DELETE a un recurso el cual lo borra de la Base de Datos indicado en el parámetro \"country\".\n\nSi ese recurso no existiera en la Base de Datos, se lanza un error \"404\" con el mensaje \"Not Found\" ya que no lo encontraría en la Base de Datos."
			},
			"response": []
		},
		{
			"name": "PUT a un recurso",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "    {\n      \"country\": \"estados unidos\",\n        \"year\": 2015,\n        \"rating\": 74.8,\n        \"variation\": -0.1,\n        \"countryConsumition\": 24245\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/estados unidos/2015",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"estados unidos",
						"2015"
					]
				},
				"description": "PUT a un recurso que actualiza dicho recurso ya existente en la Base de Datos. El recurso va indicado en la URL con en el parámetro \"country\" y los valores actualizados en el cuerpo del mensaje.\n\nSi el recurso no existiera en la Base de Datos, se lanza el error \"404\" con el mensaje \"Not Found\" por no poder encontrar dicho recurso en la Base de Datos."
			},
			"response": []
		},
		{
			"name": "POST a un recurso (405)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "edc6e270-98f8-4508-abd3-eefe03e25f8b",
						"exec": [
							"pm.test(\"Status code is 405\", function () {",
							"    pm.response.to.have.status(405);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": " {\n      \"country\": \"estados unidos\",\n        \"year\": 2016,\n        \"rating\": 74.8,\n        \"variation\": -0.1,\n        \"countryConsumition\": 24245\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/estados unidos/2016",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"estados unidos",
						"2016"
					]
				},
				"description": "POST a un recurso.\n\nEsta operación no está permitida, se lanza el error \"405\" indicando \"Method Not Allowed\" por no poder realizarse dicha operación."
			},
			"response": []
		},
		{
			"name": "PUT a la ruta base (405)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "03010faf-d372-455b-9cc5-ee31666fcbfb",
						"exec": [
							"pm.test(\"Status code is 405\", function () {",
							"    pm.response.to.have.status(405);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats"
					]
				},
				"description": "PUT a la ruta base.\n\nEsta operación no está permitida, se lanza el error \"405\" indicando \"Method Not Allowed\" por no poder realizarse dicha operación."
			},
			"response": []
		},
		{
			"name": "GET Error recurso inexistente (404)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "69edf271-0c45-42d8-b215-d20e321ef316",
						"exec": [
							"pm.test(\"Status code is 404\", function () {",
							"    pm.response.to.have.status(404);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/estados unidos/2016",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"estados unidos",
						"2016"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST Error (409)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "efd7a4fb-ea22-44ad-b213-b505f365f44e",
						"exec": [
							"pm.test(\"Status code is 409\", function () {",
							"    pm.response.to.have.status(409);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "    {\n        \"country\": \"estados unidos\",\n        \"year\": 2015,\n        \"rating\": 74.8,\n        \"variation\": -0.1,\n        \"countryConsumition\": 24245\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "Erro 409"
			},
			"response": []
		},
		{
			"name": "PUT Error URL (400)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "09d50712-6666-4cba-bc43-efcf4f991aad",
						"exec": [
							"pm.test(\"Status code is 400\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "   {\n        \"country\": \"estados unidos\",\n        \"year\": 2016,\n        \"rating\": 74.8,\n        \"variation\": -0.1,\n        \"countryConsumition\": 24245\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/espania/2016",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						"espania",
						"2016"
					]
				},
				"description": "\n\nUn dato pasado con un PUT debe contener el mismo id del recurso al que se especifica en la URL.\n\nDevuelve el codigo de error 400."
			},
			"response": []
		},
		{
			"name": "POST Error al recibir un dato (400)",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "121260a7-b6bb-41ff-8c5b-7266684400ae",
						"exec": [
							"pm.test(\"Status code is 400\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "   {\n    \t\"country\": \"estados unidos\",\n        \"year\": 2015,\n        \"rating\": 13,\n\n        \"countryConsumition\": 24266\n    }"
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "Se recibe el error 400 a la hora de recibir un dato."
			},
			"response": []
		},
		{
			"name": "DELETE a la ruta base",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "857364e4-f9b0-427f-8b72-d685654893e4",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://sos1819-04.herokuapp.com/api/v1/beer-consumed-stats/",
					"protocol": "https",
					"host": [
						"sos1819-04",
						"herokuapp",
						"com"
					],
					"path": [
						"api",
						"v1",
						"beer-consumed-stats",
						""
					]
				},
				"description": "Delete a la ruta principal, cuya operación borrará por completo la Base de Datos quedando vacía tras esta operación."
			},
			"response": []
		}
	]
}